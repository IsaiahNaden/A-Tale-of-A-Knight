[gd_scene load_steps=80 format=3 uid="uid://b4vcpj0a2svmr"]

[ext_resource type="Script" path="res://scripts/enemy.gd" id="1_psrfu"]
[ext_resource type="Texture2D" uid="uid://bqvvqbpfbbdp7" path="res://assets/characters/Enemy-Melee-Attack-S.png" id="2_q6ua1"]
[ext_resource type="Texture2D" uid="uid://cxkd1txt07fcn" path="res://assets/characters/Enemy-Melee-Idle-S.png" id="3_iahgv"]

[sub_resource type="AtlasTexture" id="AtlasTexture_sudrg"]
atlas = ExtResource("2_q6ua1")
region = Rect2(0, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_akwsp"]
atlas = ExtResource("2_q6ua1")
region = Rect2(256, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_oba7p"]
atlas = ExtResource("2_q6ua1")
region = Rect2(512, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_jwncx"]
atlas = ExtResource("2_q6ua1")
region = Rect2(768, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_nffrs"]
atlas = ExtResource("2_q6ua1")
region = Rect2(1024, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_4dfyp"]
atlas = ExtResource("2_q6ua1")
region = Rect2(1280, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_37eb0"]
atlas = ExtResource("2_q6ua1")
region = Rect2(1536, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_cbl0e"]
atlas = ExtResource("2_q6ua1")
region = Rect2(1792, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_6nsch"]
atlas = ExtResource("2_q6ua1")
region = Rect2(2048, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_dwbb0"]
atlas = ExtResource("2_q6ua1")
region = Rect2(2304, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_ept4s"]
atlas = ExtResource("2_q6ua1")
region = Rect2(2560, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_71lmx"]
atlas = ExtResource("2_q6ua1")
region = Rect2(2816, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_ixxjl"]
atlas = ExtResource("2_q6ua1")
region = Rect2(3072, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_klu36"]
atlas = ExtResource("2_q6ua1")
region = Rect2(3328, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_vju4y"]
atlas = ExtResource("2_q6ua1")
region = Rect2(3584, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_b5xn7"]
atlas = ExtResource("2_q6ua1")
region = Rect2(3840, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_8j8v0"]
atlas = ExtResource("2_q6ua1")
region = Rect2(4096, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_adv8n"]
atlas = ExtResource("2_q6ua1")
region = Rect2(4352, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_wv127"]
atlas = ExtResource("2_q6ua1")
region = Rect2(4608, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_cekca"]
atlas = ExtResource("2_q6ua1")
region = Rect2(4864, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_kvw50"]
atlas = ExtResource("2_q6ua1")
region = Rect2(5120, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_6d3wc"]
atlas = ExtResource("2_q6ua1")
region = Rect2(5376, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_8aka3"]
atlas = ExtResource("2_q6ua1")
region = Rect2(5632, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_kb718"]
atlas = ExtResource("2_q6ua1")
region = Rect2(5888, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_62hic"]
region = Rect2(0, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_opgl4"]
region = Rect2(256, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_fg520"]
region = Rect2(512, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_o5jww"]
region = Rect2(768, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_12est"]
region = Rect2(1024, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_6h2r6"]
region = Rect2(1280, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_06vqh"]
region = Rect2(1536, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_ood6c"]
region = Rect2(1792, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_tcrfg"]
region = Rect2(2048, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_2kndj"]
region = Rect2(2304, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_8y3o5"]
region = Rect2(2560, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_w4x4j"]
region = Rect2(2816, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_x3nva"]
region = Rect2(3072, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_6yfg4"]
region = Rect2(3328, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_4gv01"]
region = Rect2(3584, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_3lawm"]
region = Rect2(3840, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_mmrwp"]
region = Rect2(4096, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_qg0b0"]
region = Rect2(4352, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_e6jtm"]
region = Rect2(4608, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_gyvi8"]
region = Rect2(4864, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_qdydu"]
region = Rect2(5120, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_s2tnf"]
region = Rect2(5376, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_56cvv"]
region = Rect2(5632, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_vh3y0"]
region = Rect2(5888, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_a4i55"]
atlas = ExtResource("3_iahgv")
region = Rect2(0, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_abto6"]
atlas = ExtResource("3_iahgv")
region = Rect2(256, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_57v0g"]
atlas = ExtResource("3_iahgv")
region = Rect2(512, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_61ogv"]
atlas = ExtResource("3_iahgv")
region = Rect2(768, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_xcxjl"]
atlas = ExtResource("3_iahgv")
region = Rect2(1024, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_utc35"]
atlas = ExtResource("3_iahgv")
region = Rect2(1280, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_tlbsi"]
atlas = ExtResource("3_iahgv")
region = Rect2(1536, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_w7mc8"]
atlas = ExtResource("3_iahgv")
region = Rect2(1792, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_xed6i"]
atlas = ExtResource("3_iahgv")
region = Rect2(2048, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_s0q55"]
atlas = ExtResource("3_iahgv")
region = Rect2(2304, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_buaek"]
atlas = ExtResource("3_iahgv")
region = Rect2(2560, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_gnri3"]
atlas = ExtResource("3_iahgv")
region = Rect2(2816, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_65lcm"]
region = Rect2(0, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_vsgy2"]
region = Rect2(256, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_xqjpe"]
region = Rect2(512, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_y55tu"]
region = Rect2(768, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_4akux"]
region = Rect2(1024, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_cq7j2"]
region = Rect2(1280, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_ad022"]
region = Rect2(1536, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_crdym"]
region = Rect2(1792, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_a1ogm"]
region = Rect2(2048, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_q5xph"]
region = Rect2(2304, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_gqoap"]
region = Rect2(2560, 0, 256, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_auwsr"]
region = Rect2(2816, 0, 256, 256)

[sub_resource type="SpriteFrames" id="SpriteFrames_45sec"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_sudrg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_akwsp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oba7p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jwncx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nffrs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4dfyp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_37eb0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cbl0e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6nsch")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dwbb0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ept4s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_71lmx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ixxjl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_klu36")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vju4y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b5xn7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8j8v0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_adv8n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wv127")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cekca")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kvw50")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6d3wc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8aka3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kb718")
}],
"loop": true,
"name": &"attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_62hic")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_opgl4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fg520")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o5jww")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_12est")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6h2r6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_06vqh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ood6c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tcrfg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2kndj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8y3o5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w4x4j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x3nva")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6yfg4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4gv01")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3lawm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mmrwp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qg0b0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e6jtm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gyvi8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qdydu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s2tnf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_56cvv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vh3y0")
}],
"loop": true,
"name": &"death",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_a4i55")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_abto6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_57v0g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_61ogv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xcxjl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_utc35")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tlbsi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w7mc8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xed6i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s0q55")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_buaek")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gnri3")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_65lcm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vsgy2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xqjpe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y55tu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4akux")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cq7j2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ad022")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_crdym")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a1ogm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q5xph")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gqoap")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_auwsr")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_mgard"]
radius = 133.821

[sub_resource type="CircleShape2D" id="CircleShape2D_cyo7w"]
radius = 34.4046

[sub_resource type="CircleShape2D" id="CircleShape2D_6xe34"]
radius = 82.9064

[node name="enemy" type="CharacterBody2D"]
scale = Vector2(0.35, 0.35)
collision_mask = 0
script = ExtResource("1_psrfu")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_45sec")
animation = &"attack"
speed_scale = 3.0

[node name="detection_area" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="detection_area"]
shape = SubResource("CircleShape2D_mgard")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-2.857, 11.429)
shape = SubResource("CircleShape2D_cyo7w")

[node name="enemy_hitbox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="enemy_hitbox"]
position = Vector2(-2.85714, -2.85714)
shape = SubResource("CircleShape2D_6xe34")

[node name="take_damage_cooldown" type="Timer" parent="."]
wait_time = 0.5

[node name="healthbar" type="ProgressBar" parent="."]
modulate = Color(0.670588, 0.12549, 0.0313726, 1)
offset_left = -85.7143
offset_top = 68.5714
offset_right = 274.286
offset_bottom = 108.571
scale = Vector2(0.5, 0.5)
value = 100.0
show_percentage = false

[node name="double_damage_timer" type="Timer" parent="."]
wait_time = 10.0
one_shot = true

[connection signal="body_entered" from="detection_area" to="." method="_on_detection_area_body_entered"]
[connection signal="body_exited" from="detection_area" to="." method="_on_detection_area_body_exited"]
[connection signal="body_entered" from="enemy_hitbox" to="." method="_on_enemy_hitbox_body_entered"]
[connection signal="body_exited" from="enemy_hitbox" to="." method="_on_enemy_hitbox_body_exited"]
[connection signal="timeout" from="take_damage_cooldown" to="." method="_on_take_damage_cooldown_timeout"]
[connection signal="timeout" from="double_damage_timer" to="." method="_on_double_damage_timer_timeout"]
